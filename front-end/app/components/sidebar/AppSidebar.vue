<script setup lang="ts"></script>

<template>
  <aside class="sidebar">
    <div class="profile-section">
      <button class="profile-button">
        <svg
          class="icon"
          width="24"
          height="28"
          viewBox="0 0 24 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M17.3333 16.7009C19.0513 16.701 20.7029 17.3726 21.9437 18.5757C23.1845 19.7788 23.9188 21.4204 23.9933 23.1583L24 23.4513V26.1514C23.9996 26.4955 23.8695 26.8265 23.6362 27.0767C23.4029 27.3269 23.0841 27.4775 22.7448 27.4977C22.4056 27.5178 22.0715 27.4061 21.8109 27.1852C21.5503 26.9644 21.3828 26.6511 21.3427 26.3094L21.3333 26.1514V23.4513C21.3334 22.4182 20.9436 21.4241 20.2436 20.6725C19.5437 19.9208 18.5865 19.4684 17.568 19.4078L17.3333 19.401H6.66667C5.64639 19.401 4.66465 19.7957 3.92232 20.5044C3.17999 21.2132 2.73319 22.1823 2.67333 23.2137L2.66667 23.4513V26.1514C2.66629 26.4955 2.53616 26.8265 2.30287 27.0767C2.06958 27.3269 1.75073 27.4775 1.41147 27.4977C1.07222 27.5178 0.738161 27.4061 0.477557 27.1852C0.216952 26.9644 0.0494715 26.6511 0.00933329 26.3094L0 26.1514V23.4513C9.92566e-05 21.7117 0.663389 20.0394 1.85155 18.783C3.0397 17.5266 4.661 16.7831 6.37733 16.7076L6.66667 16.7009H17.3333ZM12 0.5C13.7681 0.5 15.4638 1.2112 16.714 2.47714C17.9643 3.74308 18.6667 5.46006 18.6667 7.25037C18.6667 9.04068 17.9643 10.7577 16.714 12.0236C15.4638 13.2895 13.7681 14.0007 12 14.0007C10.2319 14.0007 8.5362 13.2895 7.28595 12.0236C6.03571 10.7577 5.33333 9.04068 5.33333 7.25037C5.33333 5.46006 6.03571 3.74308 7.28595 2.47714C8.5362 1.2112 10.2319 0.5 12 0.5ZM12 3.20015C11.4747 3.20015 10.9546 3.30491 10.4693 3.50845C9.98396 3.712 9.54301 4.01033 9.17157 4.38643C8.80014 4.76253 8.5055 5.20902 8.30448 5.70042C8.10346 6.19182 8 6.71849 8 7.25037C8 7.78226 8.10346 8.30893 8.30448 8.80033C8.5055 9.29172 8.80014 9.73822 9.17157 10.1143C9.54301 10.4904 9.98396 10.7888 10.4693 10.9923C10.9546 11.1958 11.4747 11.3006 12 11.3006C13.0609 11.3006 14.0783 10.8739 14.8284 10.1143C15.5786 9.35475 16 8.32456 16 7.25037C16 6.17619 15.5786 5.146 14.8284 4.38643C14.0783 3.62687 13.0609 3.20015 12 3.20015Z"
            fill="currentColor"
          />
        </svg>
        <span class="profile-text">Профиль</span>
        <svg
          class="dropdown-icon"
          width="18"
          height="11"
          viewBox="0 0 18 11"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M0.329137 0.390582C0.539946 0.150734 0.825827 0.0159947 1.12391 0.0159947C1.422 0.0159947 1.70788 0.150734 1.91869 0.390582L8.99297 8.44177L16.0673 0.390582C16.171 0.268388 16.295 0.170921 16.4322 0.103869C16.5693 0.036818 16.7168 0.00152448 16.8661 4.83059e-05C17.0153 -0.00142787 17.1634 0.0309426 17.3015 0.0952713C17.4397 0.1596 17.5652 0.254599 17.6707 0.374724C17.7763 0.494849 17.8598 0.637695 17.9163 0.794927C17.9728 0.95216 18.0013 1.12063 18 1.2905C17.9987 1.46038 17.9676 1.62826 17.9087 1.78435C17.8498 1.94044 17.7642 2.08162 17.6568 2.19964L10.5825 10.2508C10.1609 10.7305 9.58914 11 8.99297 11C8.3968 11 7.82504 10.7305 7.40342 10.2508L0.329137 2.19964C0.118391 1.95972 0 1.63436 0 1.29511C0 0.955862 0.118391 0.630503 0.329137 0.390582Z"
            fill="currentColor"
          />
        </svg>
      </button>
    </div>

    <nav class="nav-menu">
      <nuxt-link
        to="/home"
        class="nav-item"
        :class="{ active: $route.path === '/home' }"
      >
        <div class="nav-item-content">
          <svg
            class="icon"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3 21.2571H7.5V14.4C7.5 14.0114 7.644 13.6859 7.932 13.4235C8.22 13.1611 8.576 13.0295 9 13.0286H15C15.425 13.0286 15.7815 13.1602 16.0695 13.4235C16.3575 13.6869 16.501 14.0123 16.5 14.4V21.2571H21V8.91428L12 2.74286L3 8.91428V21.2571ZM0 21.2571V8.91428C0 8.48 0.1065 8.06857 0.3195 7.68C0.5325 7.29143 0.826 6.97143 1.2 6.72L10.2 0.548571C10.725 0.182857 11.325 0 12 0C12.675 0 13.275 0.182857 13.8 0.548571L22.8 6.72C23.175 6.97143 23.469 7.29143 23.682 7.68C23.895 8.06857 24.001 8.48 24 8.91428V21.2571C24 22.0114 23.706 22.6574 23.118 23.195C22.53 23.7326 21.824 24.0009 21 24H15C14.575 24 14.219 23.8683 13.932 23.605C13.645 23.3417 13.501 23.0162 13.5 22.6286V15.7714H10.5V22.6286C10.5 23.0171 10.356 23.3431 10.068 23.6064C9.78 23.8697 9.424 24.0009 9 24H3C2.175 24 1.469 23.7317 0.881999 23.195C0.295 22.6583 0.001 22.0123 0 21.2571Z"
              fill="currentColor"
            />
          </svg>
          <span>Главная</span>
        </div>
        <div v-if="$route.path === '/home'" class="active-indicator"></div>
      </nuxt-link>

      <nuxt-link to="/placeholder" class="nav-item">
        <div class="nav-item-content">
          <svg
            class="icon"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M15.6 14.4008C17.1462 14.4009 18.6326 14.9979 19.7493 16.0673C20.8661 17.1367 21.5269 18.5959 21.594 20.1407L21.6 20.4011V22.8013C21.5997 23.1071 21.4825 23.4013 21.2726 23.6238C21.0626 23.8462 20.7757 23.98 20.4703 23.9979C20.165 24.0159 19.8643 23.9165 19.6298 23.7202C19.3953 23.5239 19.2445 23.2454 19.2084 22.9417L19.2 22.8013V20.4011C19.2001 19.4828 18.8492 18.5992 18.2193 17.9311C17.5893 17.263 16.7279 16.8608 15.8112 16.8069L15.6 16.8009H6C5.08175 16.8009 4.19818 17.1517 3.53009 17.7817C2.86199 18.4117 2.45987 19.2732 2.406 20.1899L2.4 20.4011V22.8013C2.39966 23.1071 2.28255 23.4013 2.07258 23.6238C1.86262 23.8462 1.57566 23.98 1.27033 23.9979C0.964996 24.0159 0.664345 23.9165 0.429801 23.7202C0.195257 23.5239 0.0445243 23.2454 0.00839996 22.9417L0 22.8013V20.4011C8.9331e-05 18.8549 0.59705 17.3684 1.66639 16.2516C2.73573 15.1348 4.1949 14.4739 5.7396 14.4068L6 14.4008H15.6ZM22.8 13.2007C23.1183 13.2007 23.4235 13.3272 23.6485 13.5522C23.8736 13.7773 24 14.0825 24 14.4008C24 14.7191 23.8736 15.0243 23.6485 15.2494C23.4235 15.4744 23.1183 15.6009 22.8 15.6009H21.6C21.2817 15.6009 20.9765 15.4744 20.7515 15.2494C20.5264 15.0243 20.4 14.7191 20.4 14.4008C20.4 14.0825 20.5264 13.7773 20.7515 13.5522C20.9765 13.3272 21.2817 13.2007 21.6 13.2007H22.8ZM10.8 0C12.3913 0 13.9174 0.632176 15.0426 1.75746C16.1679 2.88274 16.8 4.40895 16.8 6.00033C16.8 7.59172 16.1679 9.11793 15.0426 10.2432C13.9174 11.3685 12.3913 12.0007 10.8 12.0007C9.2087 12.0007 7.68258 11.3685 6.55736 10.2432C5.43214 9.11793 4.8 7.59172 4.8 6.00033C4.8 4.40895 5.43214 2.88274 6.55736 1.75746C7.68258 0.632176 9.2087 0 10.8 0ZM22.8 9.60053C23.1183 9.60053 23.4235 9.72697 23.6485 9.95202C23.8736 10.1771 24 10.4823 24 10.8006C24 11.1189 23.8736 11.4241 23.6485 11.6492C23.4235 11.8742 23.1183 12.0007 22.8 12.0007H20.4C20.0817 12.0007 19.7765 11.8742 19.5515 11.6492C19.3264 11.4241 19.2 11.1189 19.2 10.8006C19.2 10.4823 19.3264 10.1771 19.5515 9.95202C19.7765 9.72697 20.0817 9.60053 20.4 9.60053H22.8ZM10.8 2.40013C10.3272 2.40013 9.85911 2.49326 9.42234 2.67418C8.98557 2.85511 8.58871 3.1203 8.25442 3.45461C7.92012 3.78892 7.65495 4.1858 7.47403 4.6226C7.29312 5.05939 7.2 5.52755 7.2 6.00033C7.2 6.47312 7.29312 6.94127 7.47403 7.37807C7.65495 7.81487 7.92012 8.21175 8.25442 8.54606C8.58871 8.88037 8.98557 9.14556 9.42234 9.32648C9.85911 9.50741 10.3272 9.60053 10.8 9.60053C11.7548 9.60053 12.6705 9.22123 13.3456 8.54606C14.0207 7.87089 14.4 6.95517 14.4 6.00033C14.4 5.0455 14.0207 4.12978 13.3456 3.45461C12.6705 2.77944 11.7548 2.40013 10.8 2.40013ZM22.8 6.00033C23.1059 6.00067 23.4 6.11779 23.6224 6.32777C23.8448 6.53774 23.9787 6.82472 23.9966 7.13007C24.0145 7.43542 23.9152 7.73608 23.7189 7.97064C23.5226 8.2052 23.2441 8.35594 22.9404 8.39207L22.8 8.40047H19.2C18.8941 8.40013 18.6 8.283 18.3776 8.07303C18.1552 7.86306 18.0213 7.57608 18.0034 7.27073C17.9855 6.96538 18.0848 6.66471 18.2811 6.43016C18.4774 6.1956 18.7559 6.04486 19.0596 6.00873L19.2 6.00033H22.8Z"
              fill="currentColor"
            />
          </svg>
          <span>Контакты</span>
        </div>
      </nuxt-link>

      <nuxt-link to="/placeholder" class="nav-item">
        <div class="nav-item-content">
          <svg
            class="icon"
            width="24"
            height="14"
            viewBox="0 0 24 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M21.7 0.5C21.3426 0.500117 20.9902 0.584838 20.6707 0.747435C20.3511 0.910032 20.0733 1.14603 19.8593 1.43669C19.6453 1.72735 19.501 2.06466 19.4378 2.42186C19.3746 2.77905 19.3943 3.14628 19.4953 3.4944L15.9281 7.1161C15.4577 6.95697 14.9491 6.95697 14.4787 7.1161L11.8341 4.43078C11.9212 4.08598 11.9294 3.72553 11.8582 3.377C11.787 3.02848 11.6382 2.7011 11.4233 2.41989C11.2084 2.13869 10.933 1.9111 10.6182 1.75455C10.3034 1.59799 9.95749 1.5166 9.60695 1.5166C9.2564 1.5166 8.9105 1.59799 8.59569 1.75455C8.28087 1.9111 8.00548 2.13869 7.79057 2.41989C7.57566 2.7011 7.42692 3.02848 7.35571 3.377C7.28451 3.72553 7.29274 4.08598 7.37976 4.43078L2.95688 8.91883C2.46584 8.77123 1.94036 8.79402 1.46351 8.9836C0.986656 9.17317 0.585622 9.51871 0.323796 9.9656C0.06197 10.4125 -0.0457129 10.9352 0.0177677 11.4512C0.0812482 11.9672 0.312271 12.447 0.674321 12.8147C1.03637 13.1825 1.5088 13.4172 2.01692 13.4819C2.52505 13.5465 3.0399 13.4373 3.48009 13.1716C3.92027 12.9059 4.26069 12.4988 4.44754 12.0146C4.63439 11.5305 4.657 10.9969 4.51181 10.4982L8.87871 6.06451C9.34914 6.22375 9.85775 6.22375 10.3282 6.06451L12.9732 8.75033C12.8862 9.09513 12.878 9.45558 12.9492 9.80411C13.0204 10.1526 13.1691 10.48 13.384 10.7612C13.5989 11.0424 13.8743 11.27 14.1891 11.4266C14.504 11.5831 14.8499 11.6645 15.2004 11.6645C15.5509 11.6645 15.8968 11.5831 16.2117 11.4266C16.5265 11.27 16.8019 11.0424 17.0168 10.7612C17.2317 10.48 17.3804 10.1526 17.4516 9.80411C17.5228 9.45558 17.5146 9.09513 17.4276 8.75033L21.0503 5.07382C21.3665 5.16856 21.6992 5.19312 22.0256 5.14582C22.352 5.09853 22.6646 4.98049 22.9422 4.79972C23.2197 4.61895 23.4557 4.37967 23.6342 4.09812C23.8126 3.81657 23.9294 3.49933 23.9764 3.16794C24.0235 2.83654 23.9999 2.49875 23.907 2.17746C23.8142 1.85617 23.6544 1.55892 23.4385 1.30586C23.2226 1.05281 22.9556 0.849874 22.6556 0.710829C22.3557 0.571784 22.0298 0.499881 21.7 0.5Z"
              fill="currentColor"
            />
          </svg>
          <span>Аналитика</span>
        </div>
      </nuxt-link>
    </nav>

    <slot></slot>

    <div class="footer-link">
      <a href="#">Terms of use</a>
    </div>
  </aside>
</template>

<style scoped lang="scss">
@use "~/assets/styles/variables" as var;

.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  padding: 60px 30px 45px;
  display: flex;
  flex-direction: column;
  z-index: 100;
}

.profile-section {
  margin-bottom: 30px;
}

.profile-button {
  display: flex;
  width: 100%;
  height: 52px;
  padding: 0 15px;
  align-items: center;
  gap: 8px;
  border-radius: var.$radius-md;
  background: var.$bg-tertiary;
  border: none;
  cursor: pointer;
  color: var.$text-secondary;
  font-family: var.$font-family;
  font-size: 24px;
  font-weight: 400;
  position: relative;
  overflow: visible;

  .icon {
    width: 24px;
    height: 27px;
    flex-shrink: 0;
  }

  .profile-text {
    flex: 1;
  }

  .dropdown-icon {
    width: 18px;
    height: 11px;
    flex-shrink: 0;
  }
}

.nav-menu {
  display: flex;
  flex-direction: column;
  gap: 15px;
  flex: 1;
}

.nav-item {
  position: relative;
  width: 100%;
  height: 52px;
  border-radius: var.$radius-md;
  text-decoration: none;
  color: var.$text-muted;
  display: flex;
  align-items: center;
  transition: all 0.3s ease;

  .nav-item-content {
    display: flex;
    width: 100%;
    height: 100%;
    padding: 0 15px;
    align-items: center;
    gap: 8px;
    border-radius: var.$radius-md;
  }

  .icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }

  span {
    font-family: var.$font-family;
    font-size: 24px;
    font-weight: 400;
  }

  &.active {
    color: var.$text-active;

    .nav-item-content {
      border: 1px solid var.$border-secondary;
      background: var.$gradient-button;
    }

    .active-indicator {
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 5px;
      height: 28px;
      border-radius: 3px 0 0 3px;
      background: var.$indicator;
      box-shadow: var.$shadow-glow;
    }
  }

  &:hover:not(.active) {
    color: var.$text-primary;

    .nav-item-content {
      background: rgba(255, 255, 255, 0.05);
    }
  }
}

.footer-link {
  margin-top: auto;
  align-self: center;

  a {
    color: var.$border-color;
    font-family: var.$font-family;
    font-size: 15px;
    font-weight: 400;
    text-decoration: underline;

    &:hover {
      color: var.$text-muted;
    }
  }
}

@media (max-width: 1400px) {
  .sidebar {
    width: 250px;
    padding: 50px 30px 40px;
  }

  .nav-item {
    span {
      font-size: 20px;
    }
  }

  .profile-button {
    font-size: 20px;
  }
}

@media (max-width: 1200px) {
  .sidebar {
    width: 200px;
    padding: 40px 20px 30px;
  }

  .profile-section {
    margin-bottom: 60px;
  }

  .nav-item {
    height: 44px;

    span {
      font-size: 18px;
    }

    .icon {
      width: 20px;
      height: 20px;
    }
  }

  .profile-button {
    height: 44px;
    font-size: 18px;

    .icon {
      width: 20px;
      height: 22px;
    }

    .dropdown-icon {
      width: 14px;
      height: 9px;
    }
  }
}

@media (max-width: 768px) {
  .sidebar {
    width: 100%;
    height: auto;
    position: relative;
    padding: 20px;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }

  .profile-section {
    margin-bottom: 0;
  }

  .profile-button {
    width: auto;
    padding: 0 12px;
  }

  .nav-menu {
    flex-direction: row;
    flex: 1;
    gap: 10px;
    overflow-x: auto;
  }

  .nav-item {
    flex-shrink: 0;
    width: auto;

    span {
      display: none;
    }

    .nav-item-content {
      padding: 0 12px;
    }
  }

  .footer-link {
    display: none;
  }
}
</style>
